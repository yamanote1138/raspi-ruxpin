# Raspi Ruxpin Environment Configuration - Raspberry Pi Production
# Copy this file to .env on your Raspberry Pi
#
# This configuration uses real GPIO pins and ALSA audio for production
# hardware control.

# Application Settings
ENVIRONMENT=production
DEBUG=false
HOST=0.0.0.0
PORT=8080

# Hardware Configuration - Eyes Servo
# IMPORTANT: Verify these pin numbers match your actual wiring!
HARDWARE__EYES_PWM=21
HARDWARE__EYES_DIR=16
HARDWARE__EYES_CDIR=20
HARDWARE__EYES_SPEED=100
# Slower for 40+ year old servos (adjust if needed)
HARDWARE__EYES_DURATION=0.8

# Hardware Configuration - Mouth Servo
# IMPORTANT: Verify these pin numbers match your actual wiring!
HARDWARE__MOUTH_PWM=25
HARDWARE__MOUTH_DIR=7
HARDWARE__MOUTH_CDIR=8
HARDWARE__MOUTH_SPEED=100
# Slower for 40+ year old servos (adjust if needed)
HARDWARE__MOUTH_DURATION=0.3

# Hardware Configuration - GPIO
# IMPORTANT: Set to false for Raspberry Pi to use real GPIO pins
HARDWARE__USE_MOCK_GPIO=false

# Audio Configuration
# On Pi: Uses ALSA audio hardware
# Check available devices: aplay -l
# Check available mixers: amixer scontrols
#
# AUDIO__DEVICE: ALSA device name (optional, uses system default if not set)
#   Examples: hw:0,0 (hardware access), plughw:1,0 (with plugin support)
#   Format: [hw|plughw]:<card>,<device>
# AUDIO__CARD_INDEX: Card index for volume control (optional, matches DEVICE card number)
#   Set this to the same card number as your DEVICE (e.g., if using hw:1,0, set to 1)
# AUDIO__MIXER: ALSA mixer name for volume control
#   Common options: PCM, Master, Speaker
#
# AUDIO__DEVICE=plughw:1,0
# AUDIO__CARD_INDEX=1
AUDIO__MIXER=PCM
# ALSA volume (0-100)
AUDIO__START_VOLUME=100
AUDIO__SAMPLE_RATE=16000
AUDIO__AMPLITUDE_THRESHOLD=500
AUDIO__SOUNDS_DIR=sounds

# Text-to-Speech Configuration
# Install espeak: sudo apt-get install espeak
TTS__ENGINE=espeak
TTS__VOICE=en-us+m7
# Voice options: en-us (default), en-us+m2 (male2), en-us+m7 (male7), en-us+f3 (female3)
TTS__SPEED=140
# Speed: 80-200 is typical (higher = faster)
TTS__PITCH=40
# Pitch: 0-99 (50 is default, lower = deeper, higher = higher pitched)
TTS__OUTPUT_DIR=sounds/tts

# Configuration Files
CONFIG_DIR=config
PHRASES_FILE=config/phrases.json
# Optional: Override hardware config with YAML
# HARDWARE_CONFIG_FILE=config/hardware.yaml

# Raspberry Pi Production Notes:
# - Requires RPi.GPIO and pyalsaaudio packages (install with: uv pip install -e ".[hardware]")
# - May need sudo or gpio group membership for GPIO access
# - Test audio: speaker-test -t wav -c 2
# - Adjust volume: alsamixer (press F6 to select card)
# - If servos move wrong direction, swap DIR and CDIR pin numbers
# - If servos are too fast/slow, adjust DURATION values
# - Monitor GPIO status in System view of web interface
